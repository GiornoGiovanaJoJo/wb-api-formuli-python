# WB API Formuli Python

Python API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–æ—Ä–º—É–ª–∞–º–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π Wildberries

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–¥–∞–∂–∞—Ö —á–µ—Ä–µ–∑ WB API
- –†–∞—Å—á—ë—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫ (–ø—Ä–∏–±—ã–ª—å, –º–∞—Ä–∂–∞, ROI, COGS)
- –†—É—á–Ω–æ–π –≤–≤–æ–¥ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, —Å–∞–º–æ–≤—ã–∫—É–ø—ã, —Ä–∞–∑–¥–∞—á–∏)
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (API, CSV, JSON)
- –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON –∏ CSV
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π CLI

## üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### –û–±—ä—ë–º—ã (—à—Ç)
- –ü—Ä–æ–¥–∞–∂–∏, –¥–æ—Å—Ç–∞–≤–∫–∏, –≤–æ–∑–≤—Ä–∞—Ç—ã, –æ—Ç–∫–∞–∑—ã
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–∞–∑–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤
- –ß–∏—Å—Ç—ã–µ –ø—Ä–æ–¥–∞–∂–∏

### –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (—Ä—É–±)
- –í—ã—Ä—É—á–∫–∞ (–¥–æ –∏ –ø–æ—Å–ª–µ –°–ü–ü)
- –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ (COGS)
- –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å
- –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å

### –†–∞—Å—Ö–æ–¥—ã WB (—Ä—É–±)
- –õ–æ–≥–∏—Å—Ç–∏–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –ø—Ä–∏—ë–º–∫–∞
- –®—Ç—Ä–∞—Ñ—ã, –¥–æ–ø–ª–∞—Ç—ã
- –ö–æ–º–∏—Å—Å–∏—è (—Å –°–ü–ü –∏ –±–µ–∑)
- –†–µ–∫–ª–∞–º–∞ (–î–†–†)

### KPI
- –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å (%)
- ROI (%)
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≤—ã—Ä—É—á–∫–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/GiornoGiovanaJoJo/wb-api-formuli-python.git
cd wb-api-formuli-python
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
python -m venv venv

# Linux/Mac
source venv/bin/activate

# Windows
venv\Scripts\activate
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
cp .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ —É–∫–∞–∂–∏—Ç–µ –≤–∞—à WB API –∫–ª—é—á:
```
WB_API_KEY=–≤–∞—à_–∫–ª—é—á_–∑–¥–µ—Å—å
```

### 5. –ó–∞–ø—É—Å–∫

```bash
python run.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
wb-api-formuli-python/
‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ api/             # WB API –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ models/          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ data/            # –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ analyzer/        # –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫
‚îú‚îÄ‚îÄ storage/         # –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ cli/             # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ tests/           # –¢–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ data_samples/    # –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ output/          # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ run.py           # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## üîë –ü–æ–ª—É—á–µ–Ω–∏–µ WB API –∫–ª—é—á–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [seller.wildberries.ru](https://seller.wildberries.ru)
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API –∫–ª—é—á–∏
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, —Ñ–∏–Ω–∞–Ω—Å—ã, –¥–æ—Å—Ç–∞–≤–∫–∏, —Å–∫–ª–∞–¥—ã
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –≤ `.env` —Ñ–∞–π–ª

## üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### CLI —Ä–µ–∂–∏–º

```bash
python run.py
```

–í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö:
- WB API (—Ä–µ–∞–ª-—Ç–∞–π–º –¥–∞–Ω–Ω—ã–µ)
- CSV –æ—Ç—á—ë—Ç
- JSON —Ñ–∞–π–ª

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from api.wb_client import WBAPIClient
from analyzer.calculator import Calculator

# –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API
client = WBAPIClient(api_key="–≤–∞—à_–∫–ª—é—á")
sales_data = client.get_sales(date_from="2024-01-01", date_to="2024-12-31")

# –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫
calc = Calculator()
metrics = calc.calculate_product_metrics(
    sales_data=sales_data,
    cost_per_unit=2000,  # —Ä—É—á–Ω–æ–π –≤–≤–æ–¥
    self_purchase_count=1,
    giveaway_count=0
)

print(f"–ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å: {metrics['net_profit']:.2f} —Ä—É–±")
print(f"–ú–∞—Ä–∂–∞: {metrics['margin_percent']:.2f}%")
print(f"ROI: {metrics['roi_percent']:.2f}%")
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
python -m pytest tests/
```

## üìä –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞

```python
# –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞
COGS = (–ü—Ä–æ–¥–∞–∂–∏ - –í–æ–∑–≤—Ä–∞—Ç—ã - –°–∞–º–æ–≤—ã–∫—É–ø—ã) √ó –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å_–Ω–∞_–µ–¥–∏–Ω–∏—Ü—É

# –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å
–ì—Ä–æ—Å—Å_–ø—Ä–∏–±—ã–ª—å = –í—ã—Ä—É—á–∫–∞_–ø–æ—Å–ª–µ_–°–ü–ü - COGS

# –í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã WB
–†–∞—Å—Ö–æ–¥—ã = –õ–æ–≥–∏—Å—Ç–∏–∫–∞ + –•—Ä–∞–Ω–µ–Ω–∏–µ + –®—Ç—Ä–∞—Ñ—ã + –ü—Ä–∏—ë–º–∫–∞ + –ö–æ–º–∏—Å—Å–∏—è + –î–†–†

# –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å
–ß–∏—Å—Ç–∞—è_–ø—Ä–∏–±—ã–ª—å = –ì—Ä–æ—Å—Å_–ø—Ä–∏–±—ã–ª—å - –†–∞—Å—Ö–æ–¥—ã

# –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å
–ú–∞—Ä–∂–∞_% = (–ì—Ä–æ—Å—Å_–ø—Ä–∏–±—ã–ª—å / –í—ã—Ä—É—á–∫–∞) √ó 100

# ROI
ROI_% = (–ß–∏—Å—Ç–∞—è_–ø—Ä–∏–±—ã–ª—å / COGS) √ó 100
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö

–í –ø–∞–ø–∫–µ `data_samples/` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –ø—Ä–∏–º–µ—Ä—ã:
- `43-nedelia-2-List1.csv` - WB –æ—Ç—á—ë—Ç –ø–æ —Ç–æ–≤–∞—Ä–∞–º
- `test.txt` - –¥–∞–Ω–Ω—ã–µ –æ —Ç–∞—Ä–∏—Ñ–∞—Ö —Ö—Ä–∞–Ω–µ–Ω–∏—è

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è pull requests! –î–ª—è –∫—Ä—É–ø–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–Ω–∞—á–∞–ª–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ issue.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.