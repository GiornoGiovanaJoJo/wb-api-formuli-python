# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –û–±–∑–æ—Ä

```
wb-api-formuli-python/
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ config.py       # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ .env
‚îÇ
‚îú‚îÄ‚îÄ api/                # WB API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ wb_client.py    # –†–∞–±–æ—Ç–∞ —Å Wildberries API
‚îÇ
‚îú‚îÄ‚îÄ models/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ product.py      # Product, ManualInputData, ProductMetrics
‚îÇ
‚îú‚îÄ‚îÄ data/               # –ó–∞–≥—Ä—É–∑—á–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ loader.py       # CSV, JSON –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–∞—Ä—Å–∏–Ω–≥
‚îÇ
‚îú‚îÄ‚îÄ analyzer/           # –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ calculator.py   # –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ storage/            # –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ export.py       # JSON, CSV —ç–∫—Å–ø–æ—Ä—Ç
‚îÇ
‚îú‚îÄ‚îÄ cli/                # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ prompts.py      # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ main.py         # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ
‚îú‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ test_calculator.py
‚îÇ
‚îú‚îÄ‚îÄ docs/               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ QUICK_START.md
‚îÇ   ‚îú‚îÄ‚îÄ FORMULAS.md
‚îÇ   ‚îú‚îÄ‚îÄ API.md
‚îÇ   ‚îî‚îÄ‚îÄ ARCHITECTURE.md
‚îÇ
‚îú‚îÄ‚îÄ data_samples/       # –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ
‚îú‚îÄ‚îÄ output/             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ
‚îú‚îÄ‚îÄ .env.example        # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore          # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ setup.py            # –°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ run.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ README.md           # –ì–ª–∞–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ò—Å—Ç–æ—á–Ω–∏–∫   ‚îÇ  (WB API / CSV / JSON)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Loader    ‚îÇ  data/loader.py
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Product   ‚îÇ  models/product.py
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Calculator  ‚îÇ  analyzer/calculator.py
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇProductMetrics‚îÇ  models/product.py
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Exporter   ‚îÇ  storage/export.py
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ JSON / CSV  ‚îÇ  output/
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ú–æ–¥—É–ª–∏

### config/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–§–∞–π–ª—ã:**
- `config.py` - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ `.env`, –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Config` - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–ª–∞—Å—Å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

### api/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Wildberries API

**–§–∞–π–ª—ã:**
- `wb_client.py` - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è WB API

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `WBAPIClient` - –ú–µ—Ç–æ–¥—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### models/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö

**–§–∞–π–ª—ã:**
- `product.py` - –ú–æ–¥–µ–ª–∏ —Ç–æ–≤–∞—Ä–∞ –∏ –º–µ—Ç—Ä–∏–∫

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `ManualInputData` - –†—É—á–Ω–æ–π –≤–≤–æ–¥ (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, —Å–∞–º–æ–≤—ã–∫—É–ø—ã, —Ä–∞–∑–¥–∞—á–∏)
- `Product` - –î–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ WB
- `ProductMetrics` - –†–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

### data/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–§–∞–π–ª—ã:**
- `loader.py` - –ü–∞—Ä—Å–µ—Ä—ã CSV/JSON

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `DataLoader` - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –∑–∞–≥—Ä—É–∑–∫–∏

### analyzer/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–∞—Å—á—ë—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫

**–§–∞–π–ª—ã:**
- `calculator.py` - –í—Å–µ —Ñ–æ—Ä–º—É–ª—ã —Ä–∞—Å—á—ë—Ç–∞

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Calculator` - –ú–µ—Ç–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏

**–ú–µ—Ç—Ä–∏–∫–∏:**
- COGS (—Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞)
- –í–∞–ª–æ–≤–∞—è –ø—Ä–∏–±—ã–ª—å
- –ß–∏—Å—Ç–∞—è –ø—Ä–∏–±—ã–ª—å
- –ú–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å (%)
- ROI (%)
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫

### storage/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–§–∞–π–ª—ã:**
- `export.py` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Exporter` - –ú–µ—Ç–æ–¥—ã —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ JSON/CSV

### cli/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

**–§–∞–π–ª—ã:**
- `prompts.py` - –§—É–Ω–∫—Ü–∏–∏ –≤–≤–æ–¥–∞
- `main.py` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ workflow

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `Prompts` - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### tests/

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–§–∞–π–ª—ã:**
- `test_calculator.py` - –¢–µ—Å—Ç—ã —Ä–∞—Å—á—ë—Ç–æ–≤

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏

1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ `analyzer/calculator.py`:
```python
@staticmethod
def calculate_new_metric(product: Product) -> float:
    # –í–∞—à–∞ —Ñ–æ—Ä–º—É–ª–∞
    return result
```

2. –û–±–Ω–æ–≤–∏—Ç—å `ProductMetrics` –≤ `models/product.py`:
```python
@dataclass
class ProductMetrics:
    new_metric: float = 0.0
```

3. –û–±–Ω–æ–≤–∏—Ç—å `calculate_all_metrics()` –≤ `Calculator`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –≤ `data/loader.py`:
```python
@staticmethod
def load_from_new_source(params) -> List[Dict]:
    # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    return data
```

2. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –≤ `Product`

3. –î–æ–±–∞–≤–∏—Ç—å –æ–ø—Ü–∏—é –≤ CLI –º–µ–Ω—é

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
python-dotenv   # –ó–∞–≥—Ä—É–∑–∫–∞ .env
requests        # HTTP –∑–∞–ø—Ä–æ—Å—ã
pandas          # –†–∞–±–æ—Ç–∞ —Å CSV
python-dateutil # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç
pytest          # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (dev)
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- API –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≤ `.env`
- `.env` –≤ `.gitignore`
- –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å API –∫–ª—é—á–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env.example` –¥–ª—è –ø—Ä–∏–º–µ—Ä–æ–≤

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ API (TODO)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (TODO)

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π API –∫–ª–∏–µ–Ω—Ç
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö WB
- [ ] Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Flask/FastAPI)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1–°
- [ ] Telegram –±–æ—Ç
- [ ] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è